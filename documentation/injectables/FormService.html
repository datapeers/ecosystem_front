<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ecosystem-front documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avaoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);

               if ($darkModeToggles.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">ecosystem-front documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >FormService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/shared/form/form.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#closeFormSubscription" >closeFormSubscription</a>
                            </li>
                            <li>
                                <a href="#createFormSubscription" >createFormSubscription</a>
                            </li>
                            <li>
                                <a href="#getForm" >getForm</a>
                            </li>
                            <li>
                                <a href="#getFormByCollection" >getFormByCollection</a>
                            </li>
                            <li>
                                <a href="#getFormComponents" >getFormComponents</a>
                            </li>
                            <li>
                                <a href="#getInputComponents" >getInputComponents</a>
                            </li>
                            <li>
                                <a href="#listenFormSubscription" >listenFormSubscription</a>
                            </li>
                            <li>
                                <a href="#openAnnouncementFromSubscription" >openAnnouncementFromSubscription</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#openFormApp" >openFormApp</a>
                            </li>
                            <li>
                                <a href="#openFormFromSubscription" >openFormFromSubscription</a>
                            </li>
                            <li>
                                <a href="#openFormFromSubscriptionDialog" >openFormFromSubscriptionDialog</a>
                            </li>
                            <li>
                                <a href="#openFormPreview" >openFormPreview</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#updateForm" >updateForm</a>
                            </li>
                            <li>
                                <a href="#updateFormKeys" >updateFormKeys</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(graphql: <a href="../injectables/GraphqlService.html" target="_self">GraphqlService</a>, dialogService: DialogService, toast: <a href="../injectables/ToastService.html" target="_self">ToastService</a>, authCodeService: <a href="../injectables/AuthCodeService.html" target="_self">AuthCodeService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/shared/form/form.service.ts:26</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>graphql</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/GraphqlService.html" target="_self" >GraphqlService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dialogService</td>
                                                  
                                                        <td>
                                                                    <code>DialogService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>toast</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ToastService.html" target="_self" >ToastService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>authCodeService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AuthCodeService.html" target="_self" >AuthCodeService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeFormSubscription"></a>
                    <span class="name">
                        <span ><b>closeFormSubscription</b></span>
                        <a href="#closeFormSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closeFormSubscription(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="108"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:108</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;IFormSubscription&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createFormSubscription"></a>
                    <span class="name">
                        <span ><b>createFormSubscription</b></span>
                        <a href="#createFormSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createFormSubscription(args: CreateSubscriptionInput)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="92"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:92</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>args</td>
                                            <td>
                                                        <code>CreateSubscriptionInput</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;IFormSubscription&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getForm"></a>
                    <span class="name">
                        <span ><b>getForm</b></span>
                        <a href="#getForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getForm(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="34"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:34</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/AppForm.html" target="_self" >Promise&lt;AppForm&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFormByCollection"></a>
                    <span class="name">
                        <span ><b>getFormByCollection</b></span>
                        <a href="#getFormByCollection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getFormByCollection(targetCollection: <a href="../undefineds/FormCollections.html" target="_self">FormCollections</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="49"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:49</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>targetCollection</td>
                                            <td>
                                                            <code><a href="../miscellaneous/enumerations.html#FormCollections" target="_self" >FormCollections</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/AppForm.html" target="_self" >Promise&lt;AppForm[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFormComponents"></a>
                    <span class="name">
                        <span ><b>getFormComponents</b></span>
                        <a href="#getFormComponents"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getFormComponents(formulario)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="213"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:213</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>formulario</td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInputComponents"></a>
                    <span class="name">
                        <span ><b>getInputComponents</b></span>
                        <a href="#getInputComponents"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getInputComponents(components: any[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="217"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:217</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>components</td>
                                            <td>
                                                        <code>any[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>any[]</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="listenFormSubscription"></a>
                    <span class="name">
                        <span ><b>listenFormSubscription</b></span>
                        <a href="#listenFormSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>listenFormSubscription(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="122"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:122</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Observable&lt;IFormSubscription&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openAnnouncementFromSubscription"></a>
                    <span class="name">
                        <span ><b>openAnnouncementFromSubscription</b></span>
                        <a href="#openAnnouncementFromSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openAnnouncementFromSubscription(announcement: <a href="../classes/Announcement.html" target="_self">Announcement</a>, participantId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, subscription?: <a href="../interfaces/IFormSubscription.html" target="_self">IFormSubscription</a>, openDialog?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="128"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:128</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>announcement</td>
                                            <td>
                                                            <code><a href="../classes/Announcement.html" target="_self" >Announcement</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>participantId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>subscription</td>
                                            <td>
                                                            <code><a href="../interfaces/IFormSubscription.html" target="_self" >IFormSubscription</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>openDialog</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openFormApp"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>openFormApp</b></span>
                        <a href="#openFormApp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>openFormApp()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="207"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:207</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openFormFromSubscription"></a>
                    <span class="name">
                        <span ><b>openFormFromSubscription</b></span>
                        <a href="#openFormFromSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openFormFromSubscription(formSubscription: <a href="../interfaces/IFormSubscription.html" target="_self">IFormSubscription</a>, title: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="150"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:150</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Default value</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>formSubscription</td>
                                            <td>
                                                            <code><a href="../interfaces/IFormSubscription.html" target="_self" >IFormSubscription</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                        </tr>
                                        <tr>
                                                <td>title</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                                    <code>&#x27;Formulario&#x27;</code>
                                            </td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Observable&lt;string&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openFormFromSubscriptionDialog"></a>
                    <span class="name">
                        <span ><b>openFormFromSubscriptionDialog</b></span>
                        <a href="#openFormFromSubscriptionDialog"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openFormFromSubscriptionDialog(formSubscription: <a href="../interfaces/IFormSubscription.html" target="_self">IFormSubscription</a>, title: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, frameUrl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="162"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:162</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>formSubscription</td>
                                            <td>
                                                            <code><a href="../interfaces/IFormSubscription.html" target="_self" >IFormSubscription</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>title</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>frameUrl</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Observable&lt;string | null&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openFormPreview"></a>
                    <span class="name">
                        <span ><b>openFormPreview</b></span>
                        <a href="#openFormPreview"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openFormPreview(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, formName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="193"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:193</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>formName</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateForm"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>updateForm</b></span>
                        <a href="#updateForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateForm(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, data: <a href="../interfaces/IForm.html" target="_self">Partial&lt;IForm&gt;</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="76"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:76</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="../interfaces/IForm.html" target="_self" >Partial&lt;IForm&gt;</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/AppForm.html" target="_self" >Promise&lt;AppForm&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateFormKeys"></a>
                    <span class="name">
                        <span ><b>updateFormKeys</b></span>
                        <a href="#updateFormKeys"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateFormKeys(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, keys: string[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="72"
                                    class="link-to-prism">src/app/shared/form/form.service.ts:72</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>keys</td>
                                            <td>
                                                        <code>string[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/AppForm.html" target="_self" >Promise&lt;AppForm&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { GraphqlService } from &#x27;@graphqlApollo/graphql.service&#x27;;
import { map, take, tap } from &#x27;rxjs/operators&#x27;;
import { Observable, firstValueFrom } from &#x27;rxjs&#x27;;
import { AppForm, IForm } from &#x27;./models/form&#x27;;
import formQueries from &#x27;./form.gql&#x27;;
import { FormCollections, formCollections } from &#x27;./enums/form-collections&#x27;;
import { IFormSubscription } from &#x27;./models/form-subscription&#x27;;
import { FormRendererComponent } from &#x27;./form-renderer/form-renderer.component&#x27;;
import { DialogService } from &#x27;primeng/dynamicdialog&#x27;;
import { environment } from &#x27;src/environments/environment&#x27;;
import { CreateSubscriptionArgs as CreateSubscriptionInput } from &#x27;./models/create-subscription.input&#x27;;
import { ToastService } from &#x27;@shared/services/toast.service&#x27;;
import { FormViewComponent } from &#x27;./form-view/form-view.component&#x27;;
import { AuthCodeService } from &#x27;@auth/auth-code.service&#x27;;
import { Announcement } from &#x27;@home/announcements/model/announcement&#x27;;

const formUrls &#x3D; {
  renderer: &#x60;${environment.forms}form/renderer&#x60;,
  announcement: &#x60;${environment.forms}form/announcement&#x60;,
};

@Injectable({
  providedIn: &#x27;root&#x27;,
})
export class FormService {
  constructor(
    private readonly graphql: GraphqlService,
    private readonly dialogService: DialogService,
    private readonly toast: ToastService,
    private readonly authCodeService: AuthCodeService
  ) {}

  getForm(id: string): Promise&lt;AppForm&gt; {
    const refQuery &#x3D; this.graphql.refQuery(
      formQueries.query.form,
      { id },
      &#x27;no-cache&#x27;,
      { auth: false }
    );
    return firstValueFrom(
      this.graphql.query(refQuery).pipe(
        map((request) &#x3D;&gt; request.data.form),
        map((form) &#x3D;&gt; AppForm.fromJson(form))
      )
    );
  }

  getFormByCollection(targetCollection: FormCollections): Promise&lt;AppForm[]&gt; {
    const refQuery &#x3D; this.graphql.refQuery(
      formQueries.query.forms,
      { target: targetCollection },
      &#x27;cache-first&#x27;,
      { auth: false }
    );
    return firstValueFrom(
      this.graphql.query(refQuery).pipe(
        map((request) &#x3D;&gt; request.data.forms),
        map((forms) &#x3D;&gt; forms.map((form) &#x3D;&gt; AppForm.fromJson(form))),
        tap((forms) &#x3D;&gt; {
          if (forms.length &#x3D;&#x3D;&#x3D; 0) {
            return this.toast.alert({
              detail:
                &#x27;No se encontró un formulario definido para esta colección.&#x27;,
            });
          }
        })
      )
    );
  }

  updateFormKeys(id: string, keys: string[]) {
    return this.updateForm(id, { keys });
  }

  private updateForm(id: string, data: Partial&lt;IForm&gt;): Promise&lt;AppForm&gt; {
    data._id &#x3D; id;
    const refMutation &#x3D; this.graphql.refMutation(
      formQueries.mutation.updateForm,
      { updateFormInput: data },
      [],
      { auth: true }
    );
    return firstValueFrom(
      this.graphql.mutation(refMutation).pipe(
        map((request) &#x3D;&gt; request.data.updateForm),
        map((form) &#x3D;&gt; AppForm.fromJson(form))
      )
    );
  }

  createFormSubscription(
    args: CreateSubscriptionInput
  ): Promise&lt;IFormSubscription&gt; {
    const refMutation &#x3D; this.graphql.refMutation(
      formQueries.mutation.createFormSubscription,
      { createFormSubscriptionInput: args },
      [],
      { auth: true }
    );
    return firstValueFrom(
      this.graphql
        .mutation(refMutation)
        .pipe(map((request) &#x3D;&gt; request.data.createFormSubscription))
    );
  }

  closeFormSubscription(id: string): Promise&lt;IFormSubscription&gt; {
    const refMutation &#x3D; this.graphql.refMutation(
      formQueries.mutation.closeFormSubscription,
      { id },
      [],
      { auth: false }
    );
    return firstValueFrom(
      this.graphql
        .mutation(refMutation)
        .pipe(map((request) &#x3D;&gt; request.data.closeFormSubscription))
    );
  }

  listenFormSubscription(id: string): Observable&lt;IFormSubscription&gt; {
    return this.graphql
      .subscribeRequest(formQueries.subscription.listenFormSubscription, { id })
      .pipe(map((request) &#x3D;&gt; request.data.listenFormSubscription));
  }

  openAnnouncementFromSubscription(
    announcement: Announcement,
    participantId: string,
    subscription?: IFormSubscription,
    openDialog?: boolean
  ): any {
    let frameUrl &#x3D; &#x60;${formUrls.announcement}/${announcement._id}/${participantId}&#x60;;
    if (subscription) {
      frameUrl &#x3D; frameUrl.concat(&#x60;?sub&#x3D;${subscription._id}&#x60;);
    }
    if (openDialog &amp;&amp; subscription) {
      frameUrl &#x3D; frameUrl.concat(&#x60;&amp;fromApp&#x3D;true&#x60;);
      return this.openFormFromSubscriptionDialog(
        subscription,
        &#x27;Creación de preinscrito&#x27;,
        frameUrl
      );
    } else {
      window.open(frameUrl, &#x27;_blank&#x27;);
    }
  }

  openFormFromSubscription(
    formSubscription: IFormSubscription,
    title: string &#x3D; &#x27;Formulario&#x27;
  ) {
    const frameUrl &#x3D; &#x60;${formUrls.renderer}/${formSubscription._id}&#x60;;
    return this.openFormFromSubscriptionDialog(
      formSubscription,
      title,
      frameUrl
    );
  }

  openFormFromSubscriptionDialog(
    formSubscription: IFormSubscription,
    title: string,
    frameUrl: string
  ): Observable&lt;string | null&gt; {
    const idSubscription: string &#x3D; formSubscription._id;
    const isEdit: boolean &#x3D; !!formSubscription.doc;
    const ref &#x3D; this.dialogService.open(FormRendererComponent, {
      modal: true,
      width: &#x27;95%&#x27;,
      height: &#x27;100vh&#x27;,
      data: {
        idSubscription,
        iframe: frameUrl,
      },
      header: title,
      showHeader: true,
    });
    ref.onClose.pipe(take(1)).subscribe((doc?: string) &#x3D;&gt; {
      if (doc) {
        const message &#x3D; isEdit
          ? &#x27;Documento editado con éxito&#x27;
          : &#x27;Documento diligenciado con éxito&#x27;;
        this.toast.success({
          detail: message,
        });
      }
    });
    return ref.onClose;
  }

  openFormPreview(id: string, formName: string) {
    const ref &#x3D; this.dialogService.open(FormViewComponent, {
      modal: true,
      width: &#x27;95%&#x27;,
      height: &#x27;100vh&#x27;,
      data: {
        iframe: &#x60;${environment.forms}form/view/${id}&#x60;,
      },
      header: &#x60;Vista previa ${formName}&#x60;,
      showHeader: true,
    });
    return ref.onClose;
  }

  async openFormApp() {
    const code &#x3D; await this.authCodeService.createAuthCode();
    const formAppUrl &#x3D; &#x60;${environment.forms}session/authorize?code&#x3D;${code._id}&#x60;;
    window.open(formAppUrl, &#x27;_blank&#x27;);
  }

  getFormComponents(formulario) {
    return JSON.parse(formulario.formJson).components;
  }

  getInputComponents(components: any[]): any[] {
    // const notInputComponents &#x3D; [&#x27;datamap&#x27;, &#x27;editgrid&#x27;, &#x27;datagrid&#x27;, &#x27;button&#x27;, &#x27;content&#x27;];
    // return components.filter(c &#x3D;&gt; notInputComponents.includes(c.type));
    let headers &#x3D; [];
    //TODO: TRY TO ONLY FETCH DROPDOWNS OPTIONS WHEN CREATING THE EXCEL FILES
    //FOR DATA VALIDATION ON COMPONENTS OF TYPE SELECT
    // const usefulComponents &#x3D; components.filter((comp) &#x3D;&gt; comp.type !&#x3D; &#x27;button&#x27;);
    for (let index &#x3D; 0; index &lt; components.length; index++) {
      const comp &#x3D; components[index];
      switch (comp.type) {
        default:
          headers.push({
            label: comp.label,
            key: comp.key,
            type: comp.type,
          });
          break;
        //layout non-containers components should be ignored
        case &#x27;button&#x27;:
        case &#x27;content&#x27;:
          break;
        case &#x27;datetime&#x27;:
          // console.log(comp);
          headers.push({
            label: comp.label,
            key: comp.key,
            config: {
              numFmt: comp.format,
            },
            type: comp.type,
            format: comp.widget.format,
          });
          break;
        case &#x27;selectboxes&#x27;:
          headers.push({
            label: comp.label,
            key: comp.key,
            type: comp.type,
            multiple: comp.multiple,
          });
          break;
        case &#x27;select&#x27;:
          headers.push({
            label: comp.label,
            key: comp.key,
            type: comp.type,
            multiple: comp.multiple,
          });
          break;
        case &#x27;datamap&#x27;:
        case &#x27;editgrid&#x27;:
        case &#x27;datagrid&#x27;:
          let innerHeaders &#x3D; this.getInputComponents(comp.components);
          const composedField &#x3D; {
            key: comp.key,
            type: comp.type,
            childs: innerHeaders,
            label: comp.label,
          };
          headers.push(composedField);
          // headers &#x3D; headers.concat(innerHeaders);
          break;
      }
    }
    return headers;
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'FormService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
