<div class="head" [ngClass]="getHeadClass()">
    <div class="head-content">
        <div class="head-content-left ">
            <div class="flex flex-row gap-4 align-items-center w-full">
                <i-tabler name="align-justified" class="head-menu-item-btn menu-icon" *ngIf="showSidenavButton()" (click)="toggleMenu()"></i-tabler>
                <div class="panel-info elipse-panel bg-pink-200 p-2 flex flex-row align-items-center justify-content-between gap-3">
                    <div class="completed elipse-panel bg-pink-500 p-2 min-h-full flex align-items-center justify-content-center">
                        <span class="font-semibold text-white text-xl">3/10</span>
                    </div>
                    <div class="labels flex flex-column">
                        <span class="font-bold text-base">ETAPA EARLY</span>
                        <div style="height: 3px;"></div>
                        <span class="text-sm">Fase 3</span>
                    </div>
                    <p-knob [(ngModel)]="percentCompleted" [strokeWidth]="10" [readonly]="true" [size]="45" [valueTemplate]="'75%'">
                        <ng-template pTemplate="text">a</ng-template>
                    </p-knob>
                </div>
            </div>

        </div>
        <div class="head-content-mid">
            <div class="search-container">
                <span class="p-input-icon-right search">
                    <i class="pi pi-search"></i>
                    <input type="text" pInputText [(ngModel)]="searchValue" placeholder="¿Que deseas buscar?" />
                </span>
            </div>
        </div>
        <div class="head-content-right flex align-items-center gap-2 ">
            <div class="head-menu gap-4 align-items-center justify-content-center">
                <div class="pt-2">
                    <div class="notify-btn" *ngIf="showSidenavButton()" (click)="viewNotificationBoard = true">
                        <i-tabler name="bell"></i-tabler>
                    </div>
                    <div class="circle-indicator pulse"></div>
                </div>
                <div class="panel-user elipse-panel p-2 flex flex-row align-items-center justify-content-between gap-2">
                    <div class="p-2 flex flex-column w-9">
                        <span class="cursor-default font-semibold text-base uppercase  overflow-hidden white-space-nowrap text-overflow-ellipsis" [pTooltip]="user.fullName" tooltipPosition="left">{{user.fullName}}</span>
                        <span class="cursor-default font-semibold set-color-appTwo text-sm  overflow-hidden white-space-nowrap text-overflow-ellipsis" [pTooltip]="user.fullName" tooltipPosition="left">{{rolName}}</span>
                    </div>
                    <ng-container *ngIf="!user?.profileImageUrl else imageTemplate">
                        <p-avatar [label]="user.nameInitial" shape="circle" class="avatar-app flex cursor-pointer" pTooltip="Opciones" tooltipPosition="left" size="large" (click)="viewUserBoard = true">
                        </p-avatar>
                    </ng-container>
                    <ng-template #imageTemplate>
                        <p-avatar [image]="user.profileImageUrl" shape="circle" class="avatar-app flex cursor-pointer" pTooltip="Opciones" tooltipPosition="left" size="large" (click)="viewUserBoard = true">
                        </p-avatar>
                    </ng-template>

                </div>
            </div>
        </div>
    </div>
</div>


<p-sidebar [(visible)]="viewUserBoard" position="right" styleClass="w-25rem border-sidebar" appendTo="body" [modal]="false" [showCloseIcon]="true">
    <ng-template pTemplate="header"></ng-template>
    <ng-template pTemplate="content" styleClass="m-0 p-0">
        <div class="flex flex-column w-full h-full gap-2 align-items-center justify-content-between">
            <div class="w-full flex flex-column p-2 gap-2">
                <div class="w-full flex flex-row align-items-center justify-content-center gap-2">
                    <ng-container *ngIf="!user?.profileImageUrl else imageTemplate">
                        <p-avatar [label]="user.nameInitial" shape="circle" class="avatar-app big-avatar flex cursor-pointer " pTooltip="Opciones" tooltipPosition="left">
                        </p-avatar>
                    </ng-container>
                    <ng-template #imageTemplate>
                        <p-avatar [image]="user.profileImageUrl" shape="circle" class="avatar-app big-avatar flex cursor-pointer" pTooltip="Opciones" tooltipPosition="left">
                        </p-avatar>
                    </ng-template>
                    <div class="info-user w-full flex flex-column ">
                        <span class="font-semibold text-base uppercase  overflow-hidden white-space-nowrap text-overflow-ellipsis" [pTooltip]="user.fullName" tooltipPosition="left">{{user.fullName}}</span>
                        <span class="font-semibold set-color-appTwo text-sm  overflow-hidden white-space-nowrap text-overflow-ellipsis" [pTooltip]="user.fullName" tooltipPosition="left">{{rolName}}</span>
                    </div>
                </div>
                <p-button styleClass="w-full button-grey button-border-mid w-full align-items-center justify-content-between mt-2" (onClick)="profileSetting()">
                    <span class="mx-2 font-semibold	">Perfil startup</span>
                    <i-tabler class="sidenav-link-icon" name="rocket"></i-tabler>
                </p-button>
            </div>
            <div class="w-full normal-panel flex flex-column gap-2 p-5 m-2">
                <i-tabler class="set-color-appSeven" name="layout-board-split"></i-tabler>
                <span class="font-bold">'Decidir'</span>
                <span class="text-xs">Contenido de Fase 3 - Etapa Early</span>
                <p-button styleClass="w-full button-yellow button-border-mid mt-3">
                    <span class="w-full text-center">Retomar ultimo contenido</span>
                </p-button>
            </div>
            <div class="w-full flex flex-column gap-2">
                <p-button styleClass="w-full button-yellow-second button-border-mid w-full align-items-center justify-content-between " (onClick)="logOut()">
                    <span class="mx-2 font-semibold	">Cerrar Sesión</span>
                    <i-tabler class="sidenav-link-icon" name="door-exit"></i-tabler>
                </p-button>
                <p-button styleClass="w-full button-grey button-border-mid w-full align-items-center justify-content-between " (onClick)="profileSetting()">
                    <span class="mx-2 font-semibold	">Configuración de cuenta</span>
                    <i-tabler class="sidenav-link-icon" name="settings"></i-tabler>
                </p-button>
            </div>
        </div>
    </ng-template>
    <ng-template pTemplate="footer"></ng-template>
</p-sidebar>

<p-sidebar [(visible)]="viewNotificationBoard" position="right" styleClass="w-25rem border-sidebar" appendTo="body" [modal]="false" [showCloseIcon]="true">
    <ng-template pTemplate="header">
        <div class="panel-info elipse-panel w-9 h-full notifications-header p-2 flex flex-row align-items-center justify-content-center gap-3">
            <i-tabler name="bell"></i-tabler>
            <span>NOTIFICACIONES</span>
        </div>
    </ng-template>
    <ng-template pTemplate="content" styleClass="m-0 p-0"><app-notifications></app-notifications></ng-template>
    <ng-template pTemplate="footer"></ng-template>
</p-sidebar>